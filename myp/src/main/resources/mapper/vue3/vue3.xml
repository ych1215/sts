<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.vue3.dao.EmpMapper">


	


	<select  id="selectUserList" parameterType="Map" resultType="Map">
		
		SELECT SEQ , NAME , RDO , OLD
		  , CASE WHEN SELECTV = 'A' THEN '대리'
		         WHEN SELECTV = 'B' THEN '과장'
		         WHEN SELECTV = 'C' THEN '부장'
		         WHEN SELECTV = 'D' THEN '대표이사'
		     ELSE NULL END AS SELECTV
		  
		 , ENTERING_DATE  || ' ' || JOINING_TIME AS ENTERING_DATE  
		  , 'R' AS ROWTYPE
		 FROM VUE_EMP_BORD_LIST
		WHERE 1=1
		
		 <if test="empNm != null and empNm != ''  ">
			AND  NAME =  #{empNm}
		  </if>	 
		  ORDER BY SEQ DESC
			 
		 
	</select>
	
	
			<update id="insertEmp" parameterType="Map">

		INSERT INTO VUE_EMP_BORD_LIST
		(
	     SEQ , ROWTYPE , NAME , RDO ,  SELECTV ,OLD , ENTERING_DATE , JOINING_TIME
		)
		VALUES
		(
		(SELECT NVL(MAX(SEQ) + 1 , 1) FROM VUE_EMP_BORD_LIST ),
		#{ROWTYPE} ,
		
		#{NAME} ,
		#{RDO} ,
		#{SELECTV} ,
		#{OLD} , 
		#{ENTERING_DATE} , 
		#{JOINING_TIME}
		  
		
		
		
		)

	</update>
	


</mapper>

